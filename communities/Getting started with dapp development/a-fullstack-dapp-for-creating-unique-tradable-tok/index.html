<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://kauri.io/communities/Getting%20started%20with%20dapp%20development/a-fullstack-dapp-for-creating-unique-tradable-tok/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>A fullstack dapp for creating unique tradable tokens - kauri.io</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "A fullstack dapp for creating unique tradable tokens", url: "#_top", children: [
              {title: "The smart contract", url: "#the-smart-contract" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-172017815-1', 'kauri.io');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="a-fullstack-dapp-for-creating-unique-tradable-tokens">A fullstack dapp for creating unique tradable tokens<a class="headerlink" href="#a-fullstack-dapp-for-creating-unique-tradable-tokens" title="Permanent link">ÔÉÅ</a></h1>
<p><img alt="" src="https://ipfs.infura.io/ipfs/QmNjnYYhPUgHDpyJqxx6EsC8N1C89ww3nKyfLKxahSgmEt" /></p>
<blockquote>
<p>This dapp implements is a Crypto-collectible game built on top of the ERC-721 standard for creating unique tokens.. This tutorial is intended to be followed using the online IDE available at <a href="https://studio.ethereum.org">studio.ethereum.org</a>, and selecting the "CryptoPizza" template.</p>
</blockquote>
<p><img alt="Select CryptoPizza template" src="https://ipfs.infura.io/ipfs/QmYL7nkdTBNpsMSL1T4xQJP3g45j15pxg6EBHCrvXuTY7k" /></p>
<h3 id="the-smart-contract">The smart contract<a class="headerlink" href="#the-smart-contract" title="Permanent link">ÔÉÅ</a></h3>
<p>After the <code>pragma</code> line are a series of <code>import</code> statements <a href="https://solidity.readthedocs.io/en/latest/layout-of-source-files.html#importing-other-source-files">that imports all global symbols from another file</a> to make them available to the current contract.</p>
<p>Adding the <code>is</code> keyword after the contract name allows a contract to derive all non-private members from the named external contract including internal functions and state variables. In this example, <code>CryptoPizza</code> inherits from the external <code>IERC721</code> and <code>ERC165</code> contracts.</p>
<p>The <code>using A for B</code> directive is a method for attaching library functions to a Solidity type. In this case the <a href="https://docs.openzeppelin.com/contracts/2.x/api/math.html">Zeppelin SafeMath</a> library that adds overflow checks to any use of the <code>uint256</code> type.</p>
<p>This contract introduces <a href="https://solidity.readthedocs.io/en/latest/contracts.html#constant-state-variables">constant variables</a>, these work in a similar way to other programming languages, but constants are not allowed to access storage, blockchain, or execution data, or make calls to external contracts.</p>
<p><a href="https://solidity.readthedocs.io/en/latest/types.html#structs">A <code>struct</code> type</a> lets you define your own type. In this example <code>Pizza</code> is a type that contains a <code>string</code> and a <code>uint</code>. The <a href="https://solidity.readthedocs.io/en/v0.5.12/types.html#arrays">array type</a> below the struct definition creates an empty array to contain instances of the <code>Pizza</code> type.</p>
<p><a href="https://solidity.readthedocs.io/en/v0.5.12/types.html#mapping-types">The <code>mapping</code> type</a> is another custom type that lets you define key/value pairs as a content type. The first three are simpler examples that map one value of a certain type to a key of a certain type. For example <code>mapping (uint =&gt; address) public pizzaToOwner</code> maps an <code>address</code> type to a <code>uint</code> type inside a mapping called <code>pizzaToOwner</code>.</p>
<p>The fourth mapping shows that you can also nest mappings, in this case <code>mapping (address =&gt; mapping (address =&gt; bool)) private operatorApprovals;</code> creates an <code>address</code> key type that contains another <code>address</code> key that maps to a <code>bool</code> type.</p>
<p>The <code>_createPizza</code> function introduces several new concepts.</p>
<p>First is the <code>internal</code> visibility <a href="https://solidity.readthedocs.io/en/v0.5.12/contracts.html#visibility-and-getters">keyword</a> that means this function is only visible within the current contract or contracts that derive it.</p>
<p>Second it uses a <a href="https://solidity.readthedocs.io/en/v0.5.12/contracts.html#function-modifiers">function modifier</a> that accepts the input variables passed to the function, and passes them to another function, that checks a condition is correct before executing the function. The <code>isUnique</code> modifier checks to see if the Pizza created exists yet by checking its <code>_dna</code> and <code>_name</code> using a standard Solidity method for string comparison that compares the byte data.</p>
<p>Once the modifier confirms the Pizza is unique the function adds it to the array and maps it to the owner (creator in this case), using <a href="https://solidity.readthedocs.io/en/v0.5.12/control-structures.html#id4">the <code>assert</code> error handling function</a> to check that the owner address is the same as the address of the current user.</p>
<p>The <code>createRandomPizza</code> function is the public function called in JavaScript that assigns the string the user sets in the front end as the name of the pizza and calls the <code>generateRandomDna</code> function, passing the name, and the owner.</p>
<p>The <code>generateRandomDna</code> introduces another new function modifier, <a href="https://solidity.readthedocs.io/en/v0.5.12/contracts.html#pure-functions"><code>pure</code></a>. Pure functions promise not to read from or modify the state, instead they generally return values to another function that does.</p>
<p>The <code>getPizzasByOwner</code> function is another public function called by JavaScript to return all pizzas created by the owner of a specified address. The function introduces another modifier, <a href="https://solidity.readthedocs.io/en/v0.5.12/contracts.html#view-functions"><code>view</code></a> which promise not to modify the state.</p>
<p>The <code>transferFrom</code> contract function is called by JavaScript when a user clicks the <em>Gift</em> button for an individual pizza, and transfers ownership to the address specified. The function uses another form of <a href="https://solidity.readthedocs.io/en/v0.5.12/control-structures.html#id4">error handling function</a>, <code>require</code> that checks for valid conditions at run time. If all these conditions are correct the function transfers ownership and emits an event to the blockchain recording the ownership transfer.</p>
<p>When the user clicks the <em>Eat</em> button for an individual pizza, JavaScript calls the <code>burn</code> contract function that destroys the pizza at the specified id. The <code>burn</code> function uses the <a href="https://solidity.readthedocs.io/en/v0.5.12/contracts.html#visibility-and-getters"><code>external</code></a> function modifier, which makes the function part of the contract interface and can be called from other contracts.</p>
<p>And that's all the code relevant to this dapp, there are other functions for glue code not included here. To see the dapp in action, click <em>Compile</em>, then <em>Deploy</em> found under the disclosure triangle of the contract file, then open the <em>Preview</em> tab to see the frontend of the dapp. Try creating one or more pizzas, then gifting them to other accounts (create new accounts from the <em>Default</em> drop down), and eating them üòã.</p>
<hr />
<ul>
<li><strong>Kauri original title:</strong> A fullstack dapp for creating unique tradable tokens</li>
<li><strong>Kauri original link:</strong> https://kauri.io/a-fullstack-dapp-for-creating-unique-tradable-toke/2519d02a7a5244949dc12737817f5798/a</li>
<li><strong>Kauri original author:</strong> Chris Ward (@chrischinchilla)</li>
<li><strong>Kauri original Publication date:</strong> 2019-10-17</li>
<li><strong>Kauri original tags:</strong> smart-contract, cryptoeconomics, erc-20, token-standard, erc721, token</li>
<li><strong>Kauri original hash:</strong> QmebE6jmLLMF69UUejCMJqd5vCTeF3zzKiyZizWGbHmMMm</li>
<li><strong>Kauri original checkpoint:</strong> QmSRv329t5c2hpHHf1Yz4XZomqgeBc8LVh9KNJC9z4PVDS</li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../blockchain-explained/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../blockchain-explained/" class="btn btn-xs btn-link">
        Blockchain Explained
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../a-fullstack-dapp-for-creating-tokens/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../a-fullstack-dapp-for-creating-tokens/" class="btn btn-xs btn-link">
        A fullstack dapp for creating tokens
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/kauri-io/archive/edit/main/docs/communities/Getting started with dapp development/a-fullstack-dapp-for-creating-unique-tradable-tok.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>