<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://kauri.io/single/claiming-your-dns-on-ens-via-web-%2823--the-demo%29/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Claiming your DNS on ENS via Web (2/3  The Demo) - kauri.io</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Claiming your DNS on ENS via Web (2/3  The Demo)", url: "#_top", children: [
              {title: "Step 1: Type domain name and press \u201cLookup\u201d.", url: "#step-1-type-domain-name-and-press-lookup" },
              {title: "Step 2: Submit the proof", url: "#step-2-submit-the-proof" },
              {title: "Step 3: Setting another domain record", url: "#step-3-setting-another-domain-record" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-172017815-1', 'kauri.io');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="claiming-your-dns-on-ens-via-web-23-the-demo">Claiming your DNS on ENS via Web (2/3  The Demo)<a class="headerlink" href="#claiming-your-dns-on-ens-via-web-23-the-demo" title="Permanent link"></a></h1>
<hr />
<ul>
<li>
<ol>
<li>The Theory</li>
</ol>
</li>
<li>
<p><strong>2. The Demo</strong> </p>
</li>
<li>
<ol>
<li>The Code
 <strong>Previously</strong> 
In the first blog post, I talked about the theory behind how DNSSEC can prove that a certain Ethereum address belongs to a domain and how ENS can use the mechanism by submitting the proof into DNSSEC Oracle smart contract.
In this blog post, I will show you how the actual process works on the web.
 <strong>2. The Demo</strong> 
I have been working for the past few months making it easier to retrieve the proof from DNS and submit into the DNSSEC Oracle smart contract, and this video shows the first attempt where you can do the whole process online.</li>
</ol>
</li>
</ul>
<iframe allowfullscreen="" frameborder="0" scrolling="no" src="https://cdn.embedly.com/widgets/media.html?url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DKOsMMpIO-pQ&amp;src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FKOsMMpIO-pQ&amp;type=text%2Fhtml&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;schema=youtube"></iframe>

<p>Let’s dissect the demo video screenshot by screenshot.</p>
<h4 id="step-1-type-domain-name-and-press-lookup">Step 1: Type domain name and press “Lookup”.<a class="headerlink" href="#step-1-type-domain-name-and-press-lookup" title="Permanent link"></a></h4>
<p>This will show you the ETH address set under <code>_ens.domain.xyz</code> 
At this moment, no data is set on DNSSEC Oracle nor ENS so they all show <code>0x0</code> .</p>
<p><img alt="" src="https://cdn-images-1.medium.com/max/1600/1*LIA_3Yv2dIMIXBOKHvkmyQ.png" /></p>
<h4 id="step-2-submit-the-proof">Step 2: Submit the proof<a class="headerlink" href="#step-2-submit-the-proof" title="Permanent link"></a></h4>
<p>Clicking the button will prompt to send two transactions, one to claim the proofs for each record on DNSSEC Oracle smart contract, and another one to set ownership of the domain on the ENS contract.</p>
<p><img alt="" src="https://cdn-images-1.medium.com/max/1600/1*U-egIBGBF0xGSDb9omj-Lg.png" /></p>
<p>If you look at the transactions, you can see that the first transaction is over 1.2 million gas which is quite expensive. But hold your horses! It’s likely you’ll pay a lot less in practice.</p>
<pre><code>### claim()
Transaction: 0x554a91b048ee837d000b88cc73dbacccbad0bc27ee555b4e29a1af9422478a32
Gas usage: 1252768 &lt;= *1.2 M !
</code></pre>
<pre><code>### setSubNodeOwner()
Transaction: 0xc08125d6ea9c11f866458eac335defee436f4ac72fdc3d07f59197017d2f14ad
Gas usage: 83849
</code></pre>
<h4 id="step-3-setting-another-domain-record">Step 3: Setting another domain record<a class="headerlink" href="#step-3-setting-another-domain-record" title="Permanent link"></a></h4>
<p>Now let’s try to set another record, ethlab.xyz.
What you notice is that the first half of the proofs are already set because the proof of <code>.xyz</code> is already set in a previous transaction.</p>
<p><img alt="" src="https://cdn-images-1.medium.com/max/1600/1*HtUJH5DTf9GgyfG0wrfnHQ.png" /></p>
<p>So if you press “Submit the proof”, this time the cost of the first transaction to put the proof in DNSSEC Oracle is a lot lower.</p>
<pre><code>### claim()
Transaction: 0xfd091eeb5bd81ddf01ef62b784f9ed651b333ef22938438a93f189b307ee404a
Gas usage: 373156 &lt;= *373K !
</code></pre>
<pre><code>### setSubNodeOwner()
Transaction: 0x003d32cd1c2a57ca2f1252735d4e2e25d565fb56249c8fc5e8ac9a1a4793819a
Gas usage: 84822
</code></pre>
<p>In reality, the majority of people will be paying this amount of gas.
 <strong>Summary</strong> 
In this blog post, I showed you the demo app which allows you to claim DNS on ENS. I also explained that transaction cost becomes lower if part of the proof has already been submitted. In the next blog post, I will show you how the demo code make use of a series of ENS libraries.</p>
<hr />
<ul>
<li><strong>Kauri original title:</strong> Claiming your DNS on ENS via Web (2/3  The Demo)</li>
<li><strong>Kauri original link:</strong> https://kauri.io/claiming-your-dns-on-ens-via-web-23-the-demo/8666e3b3000541498f3e9d08cd9a4808/a</li>
<li><strong>Kauri original author:</strong> Makoto Inoue (@makoto)</li>
<li><strong>Kauri original Publication date:</strong> 2018-10-30</li>
<li><strong>Kauri original tags:</strong> none</li>
<li><strong>Kauri original hash:</strong> QmXLkr1T9MRmDUa8NXtpsZupT3x3SGREvEPYV3xEHoKL58</li>
<li><strong>Kauri original checkpoint:</strong> QmYRYAA1TRyDiXS6uLXdt6qS8AnW63tqJHYpUQKrdyNz7h</li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../los-8-mejores-wallets-para-tus-criptomonedas/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../los-8-mejores-wallets-para-tus-criptomonedas/" class="btn btn-xs btn-link">
        Los 8 mejores wallets para tus criptomonedas
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../leonardo-dao-vinci/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../leonardo-dao-vinci/" class="btn btn-xs btn-link">
        Leonardo dao Vinci
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/kauri-io/archive/edit/main/docs/single/claiming-your-dns-on-ens-via-web-(23--the-demo).md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>